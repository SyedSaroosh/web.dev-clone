import{n as normalizeUrl,s as store,g as getCanonicalPath,l as listen,r as reload,c as checkUserPreferredLanguage,a as localStorage}from"./chunk-a6dbe9bb.js";window.WebComponents={root:"/lib/webcomponents/"},
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
function(){var e,t=!1,n=[],o=!1;function r(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function a(){window.customElements&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback((function(t){e=t,o&&e()}))}function i(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),t=!0,s().then(r)}function s(){o=!1;var t=n.map((function(e){return e instanceof Function?e():e}));return n=[],Promise.all(t).then((function(){o=!0,e&&e()})).catch((function(e){console.error(e)}))}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(e){e&&(n.push(e),t&&s())},window.WebComponents._batchCustomElements=a;var c="webcomponents-loader.js",d=[];(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&d.push("sd"),window.customElements&&!window.customElements.forcePolyfill||d.push("ce");var l=function(){var e=document.createElement("template");if(!("content"in e))return!0;if(!(e.content.cloneNode()instanceof DocumentFragment))return!0;var t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var n=e.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}();if(window.Promise&&Array.from&&window.URL&&window.Symbol&&!l||(d=["sd-ce-pf"]),d.length){var u,m="bundles/webcomponents-"+d.join("-")+".js";if(window.WebComponents.root)u=window.WebComponents.root+m;else{var w=document.querySelector('script[src*="'+c+'"]');u=w.src.replace(c,m)}var p=document.createElement("script");p.src=u,"loading"===document.readyState?(p.setAttribute("onload","window.WebComponents._batchCustomElements()"),document.write(p.outerHTML),document.addEventListener("DOMContentLoaded",i)):(p.addEventListener("load",(function(){a(),i()})),p.addEventListener("error",(function(){throw new Error("Could not load polyfill bundle"+u)})),document.head.appendChild(p))}else"complete"===document.readyState?(t=!0,r()):(window.addEventListener("load",i),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",i),i()})))}();const seen={};window._import=e=>{e.startsWith("./")&&(e=e.substr(2));const t=seen[e];if(void 0!==t)return t;const n=new Promise((t,n)=>{const o=Object.assign(document.createElement("script"),{src:`/${e}`,type:"module",onload:()=>t(),onerror:n});document.head.append(o)});return seen[e]=n,n};const resourceVersion=document.body.getAttribute("data-version");async function loadEntrypoint(e){const t=(e=getCanonicalPath(e)).indexOf("/",1);switch(e.substring(1,-1===t?e.length:t)){case"measure":return window._import("./measure-80997b70.js");case"live":return window._import("./live-134f0d7f.js");case"newsletter":return window._import("./newsletter-2f5893ca.js")}return window._import("./default-0b88effc.js")}async function getHTML(e,t){if(!e.endsWith("/")&&!e.endsWith(".html"))throw new Error(`can't fetch HTML for unsupported URL: ${e}`);try{const n=await fetch(e,{signal:t});if(!n.ok)throw n.status;return{offline:n.headers.has("X-Offline"),html:await n.text()}}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return null;throw e}}function forceFocus(e){e&&(e.hasAttribute("tabindex")?e.focus():(e.tabIndex=-1,e.focus(),e.classList.add("w-force-focus"),e.addEventListener("blur",()=>{e.removeAttribute("tabindex"),e.classList.remove("w-force-focus")},{once:!0})))}function updateDom(e){const{html:t}=e,n=(new DOMParser).parseFromString(t,"text/html"),o=n.body.getAttribute("data-version");if(o!==resourceVersion||!resourceVersion)throw new Error(`version was=${resourceVersion} now=${o}`);const r=n.querySelector("main #content"),a=document.querySelector("main #content");a.innerHTML=r.innerHTML;const i=document.querySelectorAll("web-assessment[open]");for(const e of i)e.remove();document.title=n.title;const s=document.querySelector('link[type="application/atom+xml"]');if(s){const e=n.querySelector('link[type="application/atom+xml"]');s.href=e&&e.href||s.href}forceFocus(a.querySelector("h1, h2, h3, h4, h5, h6")||a)}async function swapContent({firstRun:e,url:t,signal:n,ready:o,state:r}){const a=loadEntrypoint(t=normalizeUrl(t));if(e){return o(t,{pageState:{offline:store.getState().isOffline,html:document.documentElement.outerHTML}}),a}let i;if(r&&r.pageState&&!r.pageState.offline)i=r.pageState;else if(store.setState({isPageLoading:!0}),i=await getHTML(t,n),n.aborted)return;const s=Boolean(i.offline);store.setState({currentUrl:t,isOffline:s}),o(t,{pageState:i}),ga("set","page",window.location.pathname),ga("send","pageview"),updateDom(i),await a,n.aborted||store.setState({isPageLoading:!1})}function removeServiceWorkers(){if("serviceWorker"in navigator)return navigator.serviceWorker.getRegistrations().then(e=>Promise.all(e.map(e=>e.unregister()))).then(e=>{e.length&&window.location.reload()})}function onGlobalStateChanged({isSignedIn:e,isPageLoading:t}){document.body.classList.toggle("lh-signedin",e),document.querySelector(".w-loading-progress").hidden=!t;const n=document.querySelector("main");t?n.setAttribute("aria-busy","true"):n.removeAttribute("aria-busy"),localStorage.webdev_isSignedIn=e?"probably":""}function serviceWorkerIsSupported(e){return"serviceWorker"in navigator&&"updateViaCache"in ServiceWorkerRegistration.prototype&&(["web.dev","web-dev-staging.appspot.com","localhost"].includes(e)||e.endsWith(".netlify.app"))}function ensureServiceWorker(){const{pathname:e}=window.location;!navigator.serviceWorker.controller?navigator.serviceWorker.addEventListener("controllerchange",t=>{getHTML(e),t.stopImmediatePropagation()},{once:!0}):"/"!==e&&getHTML("/"),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}),navigator.serviceWorker.register("/sw.js",{updateViaCache:"all"})}window.WebComponents.waitFor(async()=>{document.body.classList.remove("unresolved"),listen(swapContent),window.addEventListener("online",()=>{const{isOffline:e}=store.getState();e&&reload()})}),checkUserPreferredLanguage(),store.subscribe(onGlobalStateChanged),onGlobalStateChanged(store.getState()),serviceWorkerIsSupported(window.location.hostname)?ensureServiceWorker():removeServiceWorkers();
//# sourceMappingURL=app-9179df02.js.map